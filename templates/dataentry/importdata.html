<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Meta information about the document -->
    <meta charset="UTF-8" />
    <!-- Character encoding set to UTF-8 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Responsive layout for mobile -->
    <title>Automate The Boring Stuff With Django</title>
    <!-- Page title shown in browser tab -->

    <!-- Include Bootstrap CSS from CDN for styling -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
    />

    <!-- Include jQuery library from CDN -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <!-- Include Bootstrap JS from CDN for interactive components -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  </head>
  <body>
    <div class="container">
      <!-- Page heading -->
      <h3 class="text-center">Import Data To Database Tables</h3>

      <!-- Form to upload CSV file and select target database table -->
      <form
        action="{% url 'import_data' %}"
        method="POST"
        enctype="multipart/form-data"
        style="max-width: 600px; margin: auto; padding-top: 50px"
      >
        {% csrf_token %}
        <!-- Django template tag for CSRF protection -->

        <!-- File upload input field -->
        <div class="form-group">
          <label for="file_path">Upload CSV File</label>
          <input type="file" name="file_path" class="form-control" required />
        </div>

        <!-- Dropdown to select the database table -->
        <div class="form-group">
          <label for="model_name">Select Database Table</label>
          <select name="model_name" class="form-control" required>
            <option value="" disabled selected>Select</option>
            <!-- Default disabled option -->
            {% for model in custom_models%}
            <!-- Loop through custom_models passed from Django view -->
            <option value="{{ model }}">{{ model }}</option>
            <!-- Add each model as an option -->
            {% endfor %}
          </select>
        </div>

        <!-- Submit button -->
        <input type="submit" value="Import Data" class="btn btn-primary" />

        {% include 'alerts.html' %}
      </form>
    </div>
  </body>
</html>
